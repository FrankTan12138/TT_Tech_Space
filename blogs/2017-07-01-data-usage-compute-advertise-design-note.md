---
layout: post
category : datascience
tags : [bigdata,datascience,datamining]
title: Data Usage - Computational Advertisement Tech Note 
---

## 数据应用-计算广告营销应用
------------------------------------------------------------


### 1.互联网广告变现

从广告和泛广告变现的角度来看，在互联网市场上主要有三种资产能够变成钱，分别是数据、流量和品牌属性。后两项是媒体的专属，而第一项既可能来自于媒体，也可能来自于第三方的数据拥有者

点击率与转化率

#### 媒体与广告主营销决策

- [广告主营销决策](_includes/adv_owner_target.png)
- [媒体营销决策](_includes/media_target.png)
- [数据提供方决策](_includes/data_owner_target.png)

### 2.大数据与计算广告

![大数据与计算广告的关系](_includes/bigdata_compute_adv.png)

- DSP:Demand-Side Platform(广告投放执行方-需求方平台)

定义:需求方平台允许广告客户和广告机构更方便地访问，以及更有效地购买广告库存，因为该平台汇集了各种广告交易平台，广告网络，供应方平台，甚至媒体的库存。有了这一平台，就不需要再出现另一个繁琐的购买步骤——购买请求。

	comments:The Trade Desk主要为广告代理商服务，是一家致力于广告程序化购买的的需求方平台(DSP)
	品友/易传媒/广点通


- SSP:Supply-Side Platform(广告媒体-供应方平台)

定义:供应方平台能够让媒体主也介入广告交易，从而使它们的库存广告可用。通过这一平台，媒体主希望他们的库存广告可以获得最高的有效每千次展示费用，而不必以低价销售出去。


- DMP:Data-Management Platform(广告主-数据管理平台)

定义:是把分散的第一和第三方数据整合到统一的技术平台里，再通过机器学习算法对这些数据进行标准化和细分管理，并把这些细分结果实时地应用于现有的互动营销环境里，帮助营销取得最大化效果。

用于CPM广告投放.CPM获得这些人口属性或兴趣标签需要应用DMP数据管理和受众定向的平台

![dmp_arch](_includes/dmp_arch.png)

- RTB:Real Time Bidding(实时竞价)

定义：是一种利用第三方技术在数以百万计的网站或移动应用上针对每一个用户展示行为进行评估以及出价的竞价技术。


- DataExchange/ADExchange(头部媒体/互联网巨头-数据交易平台)

DataExchange提供API接口 返还 广告-设备编号 -> DSP根据设备编号定点投放广告 -> 输出结果给广告主

头部DataExchange提供商:

	腾讯/爱奇艺/优酷/头条/360

- PMP:PrivateMarketPlace(私有交易市场)

头部流量私有交易平台


- PDB:ProgrammaticDirectBuy(程序化购买市场-私有程序化购买）

	基于竞价机制和精准人群定向这两个核心功能,在线广告分化出了广告网络(ad Network,ADN)这种新的市场形态。它批量地运营媒体的广告位资源,按照人群或上下 文标签售卖给需求方,并用竞价的方式决定流量分配。



对接特定广告主

- 信息流广告投放

#### 2.1.在线广告产品相关

#### 2.2.在线广告产品概览

合约广告

竞价广告

#### 2.3.合约广告


#### 2.4.搜索与竞价广告

RTB

#### 2.5.程序化交易广告

#### 2.6.移动互联与原生广告


### 3.在线广告产品实践

#### 3.1.在线广告结算方式

![在线广告结算](_includes/ad_online_pay_type.jpg)

* CPT:Cost Per Timing 合约广告

CPT(Cost Per Time) 每时间段成本。CPT是一种以时间来计费的广告，国内很多的网站都是按照“一个星期多少钱”这种固定收费模式来收费。

* CPM:Cost Per Mille 展示付费广告
	
	千人成本(CPM广告)是一种媒体或媒体排期表(SCHEDULING)送达1000人或"家庭"的成本计算单位.

* CPC:Cost Per Click 竞价广告

每点击成本。CPC是一种点击付费广告，根据广告被点击的次数收费。如关键词广告一般采用这种定价模式，比较典型的有Google广告联盟的AdSense for Content和百度联盟的百度竞价广告。

* CPA:Cost Per Action 按动作计费

CPA(Cost Per Action) 每行动成本。CPA是一种按广告投放实际效果计价方式的广告，即按回应的有效问卷或注册来计费，而不限广告投放量。电子邮件营销（EDM）现在有很多都是CPA的方式在进行。

* CPS:Cost Per Sale 按成交计费

CPS(Cost Per Sales)：以实际销售产品数量来换算广告刊登金额。CPS是一种以实际销售产品数量来计算广告费用的广告，这种广告更多的适合购物类、导购类、网址导航类的网站，需要精准的流量才能带来转化。


#### 3.2.数据是核心

有哪些数据是对精准广告业务有直接贡献的

1.用户标识 - 用户特征库的建立

起关键作用的还是用户近期内的行为

2.用户行为 - 用户行为库

决策行为主要包括转化和预转化

3.人口属性

4.地理属性

5.社交关系 - 知识图谱

有两条基本的规律:首先，随着用户主动意图的提升，相应的行为数据信息价值也随之增大;其次，越接近转化的行为，对效果广 告的精准指导作用越强。

6.DMP数据管理平台

7.DataExchange数据交易平台


#### 3.3.数据银行

#### 3.4.广告客户差异

品牌方-投放

	前端逻辑思路-讲完整故事
	加码收数
	品牌商内部人的预期和实际结果一致
	重点在于品牌商的预期/TA浓度
	ROI=1:1以上
	广告曝光-对受众发声 长期效果

游戏+电商+中小客户-投放

	ROI
	广告素材+媒体选择+效果投放
	重点在于广告效果

### 4.计算广告关键技术

计算广告也是一个典型的个性化系统+搜索系统。

一般都采用检索(retrieval)加排序(ranking)这样类搜索的系统架构.计算广告是根据个体用户信息投送个性化内容的典型系统之一.

一般的个性化系统由四个主体部分构成:

	* 用于实时响应请求，完成决 策的在线投放(online serving)引擎;
	* 离线的分布式计算(distributed computing)数据 处理平台;
	* 用于在线实时反馈的流计算(stream computing)平台;
	* 连接和转运以上三部 分数据流的数据高速公路(data highway=ETL).

![计算广告系统开源工具](_includes/computer_adv_development.png)


#### 4.1.计算广告技术概览

#### 4.2.基础知识准备

1. 信息检索(Information Retrieval，IR)

- 倒排索引
- 向量空间模型-Vector Space Model(文档相似度度量方法)
	
	TF-IDF(Term Frequency-Inverse DocumentFrequency，词频–倒数文档频率)

- 文本特征向量

2. 最优化(Optimization)

- 拉格朗日法与凸优化
- 下降单纯形法
- 梯度下降法(gradient descent)
- 拟牛顿法

	梯度下降法、牛顿法和拟牛顿法都属于线搜索方法，它们的共同特点是，在当前迭代 点 xk 处寻找下一个迭代点 xk+1 时，首先确定一个下降方向，然后沿着这个下降方向进行一 维线搜索。

- Trust-Region法

	每次迭代时，将搜索范围限制在 xk 的一个置信域内，然后同时决定下次迭 代的方向和步长;如果当前置信域内找不到可行解，则缩小置信域范围。

3. 机器学习(Machine Learning，ML)

- 最大熵(Maximum Entropy)与指数族分布
- 混合模型(mixture model)和最大期望EM算法
- 贝叶斯学习

常见的混合模型，如高斯混合模型(Mixture of Gaussians，MoG)和概率潜在语义索引(Probabilistic Latent Semantic Index，PLSI)，可以认为后者是建立在多项式分布基础上的混合模型，在文本主题分析中 有着广泛的应用。

#### 4.3.合约广告核心技术

合约广告的关键特征是广告投放的价格和量由双方协商约定。

展示量合约广告的投送系统称为担保式投送系统。它依赖于受众定向、流量预测、点击率预测这三 项基本技术，并采用在线分配的方式完成实时决策。

流量预测与在线分配

#### 4.4.受众定向核心技术(广告数据产品关键技术)

受众定向技术是对广告(a)、用户(u)、上下文(c)这三个维度提取有意义的特征(这些特征也称为标签)的过程。

行为定向是根据用户历史上的网络访问行为对用户打标签的过程。
	1. 用户标签定向
	人口属性定向、行为定向属于t(u)的定向方式;

	2. 上下文标签定向
	地域定向、频道定向和上下文定向属于t(c)的定向方式

		- 半在线抓取系统
		- 文本主题挖掘

	3. 定制化标签
	重定向和新客推荐(look-alike)则是t(a,u)的定向方式

##### 文本主题挖掘

##### 行为定向

行为定向建模
行为定向特征生成
行为定向决策过程
行为定向评测

行为定向采用reach/CTR曲线进行半定量的评价.

##### 用户特征属性预测

- 最大后验概率
- 支持向量机(Support Vector Machine，SVM)
- AdaBoost
- XgBoost

#### 4.5.竞价广告核心技术(需研究)

搜索广告和广告网络是两种最典型的竞价广告产品

核心是广告检索和eCPM估计技术

如何根据广告的业务要求设计更高效的索引和检索技术是竞价广告系统要解决的关键问题。

竞价广告两个最关键的计算问题:广告检索和广告排序

搜索广告

广告网络

广告检索

点击率预测

#### 4.6.程序化交易核心技术(需研究)

广告数据交易平台

定制化用户标签

	要将访问广告主网站的某特定用户集合传送给DSP

look-alike建模

点击价值估计

供给方平台-The Trade Desk

#### 4.7.其他广告相关技术

创意优化

	程序化创意
	点击热力图

实验框架

	无论是广告系统调整算法、架构，还是投放时调整创意、定向策略，都需要依赖线上的实际流量测试来确定其真实效果如何。

流量保护和效果监测

	反作弊
	广告监测

隐私保护和数据安全

	隐私问题讨论的是用户个人信息的安全性
	隐私保护基本原则
	- 要严格避免使用个人可辨识信息(Personal Identifiable Information，PII)
	- 用户有权要求系统停止跟踪和使用自己的行为数据
	- 不应长期保留和使用用户行为数据。长期保留用户行为对受众定向价值有限，同时 又加大了数据泄露的风险
	- 工程上还需要特别注意权限的严格分配和最小数据访问的原则
	- Quasi-Identifier 与 K-Anonymity(稀疏行为数据给隐私保护带来的巨大风险)

程序化交易中的数据安全
